(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c18e411"],{"7f3e":function(e,t,a){"use strict";a("b26d")},8271:function(e,t,a){"use strict";a("b84e")},"891c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"experiment-container"},[a("div",{staticClass:"top-box"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.openDialog}},[e._v("åˆ›å»ºå®éªŒ")])],1),a("div",{staticClass:"bottom-box"},[a("el-row",{attrs:{gutter:20}},e._l(e.tasks,(function(t){return a("el-col",{key:t.id,attrs:{span:6}},[a("el-card",{class:["box-card","box-card-"+t.experiment_status]},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.experiment_name))]),a("span",{staticClass:"card-header-right"},[a("el-tooltip",{staticClass:"item",attrs:{content:"æŸ¥çœ‹å®éªŒ"}},[a("i",{staticClass:"el-icon-info",on:{click:function(a){return e.info(t)}}})]),a("el-tooltip",{staticClass:"item",attrs:{content:"åˆ é™¤å®éªŒ"}},[a("i",{staticClass:"el-icon-delete",on:{click:function(a){return e.del(t)}}})])],1)]),a("div",{staticClass:"exp-item"},[a("span",{staticClass:"exp-item-label"},[e._v("ä»»åŠ¡ç±»å‹ï¼š")]),a("span",{staticClass:"exp-item-value"},[e._v(e._s(t.task_type))])]),a("div",{staticClass:"exp-item"},[a("span",{staticClass:"exp-item-label"},[e._v("æ¨¡å‹ç±»å‹ï¼š")]),a("span",{staticClass:"exp-item-value"},[e._v(e._s(t.model_type))])]),a("div",{staticClass:"exp-item"},[a("span",{staticClass:"exp-item-label"},[e._v("æè¿°ä¿¡æ¯ï¼š")]),a("span",{staticClass:"exp-item-value"},[e._v(e._s(t.task_desc))])]),a("div",{staticClass:"exp-item"},[a("span",{staticClass:"exp-item-label"},[e._v("çŠ¶æ€ï¼š")]),a("span",{staticClass:"exp-item-value"},[e._v(e._s(t.experiment_status))])])])],1)})),1)],1),a("el-dialog",{staticClass:"experiment-dialog",attrs:{title:"åˆ›å»ºå®éªŒ",visible:e.dialogFormVisible,top:"10vh","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[e.dialogFormVisible?a("ExperimentForm",{ref:"experimentForm"}):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("å– æ¶ˆ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.openExperiment}},[e._v("å¼€å¯å®éªŒ")])],1)],1)],1)},o=[],i=(a("e9c4"),a("b64b"),a("d3b7"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",staticClass:"experiment-form",attrs:{model:e.form,rules:e.rules,"label-width":"100px","label-position":"top"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"å®éªŒåç§°",prop:"experiment_name"}},[a("el-input",{model:{value:e.form.experiment_name,callback:function(t){e.$set(e.form,"experiment_name",t)},expression:"form.experiment_name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"ä»»åŠ¡ç±»å‹",prop:"task_type"}},[a("el-select",{attrs:{clearable:"",placeholder:"è¯·é€‰æ‹©ä»»åŠ¡ç±»å‹"},model:{value:e.form.task_type,callback:function(t){e.$set(e.form,"task_type",t)},expression:"form.task_type"}},e._l(e.taskList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"ä»»åŠ¡æè¿°",prop:"task_desc"}},[a("el-input",{attrs:{type:"textarea",maxlength:"155","show-word-limit":""},model:{value:e.form.task_desc,callback:function(t){e.$set(e.form,"task_desc",t)},expression:"form.task_desc"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"åŸºç¡€æ¨¡å‹",prop:"model_type"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{model:{value:e.form.model_type,callback:function(t){e.$set(e.form,"model_type",t)},expression:"form.model_type"}})],1),a("el-col",{attrs:{span:10,offset:1}},[a("el-button",{attrs:{type:"text"},on:{click:e.suggest}},[e._v("æ¨è")])],1)],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"è®­ç»ƒæ•°æ®",prop:"files"}},[a("el-button",{on:{click:e.upload}},[e._v("ä¸Šä¼ ")]),a("input",{attrs:{hidden:"",id:"upload-file",type:"file",name:"files",accept:".csv"},on:{change:e.onFileChanged}}),a("input",{attrs:{hidden:"",type:"file",id:"upload-folder",name:"folderUpload",webkitdirectory:"",multiple:""},on:{change:e.onFolderChanged}}),e.uploadNum?a("span",{staticClass:"uploadClass"},[e._v("å·²ä¸Šä¼ "+e._s(e.uploadNum)+"ä¸ªæ–‡ä»¶"),a("span",{staticClass:"tagClose",on:{click:e.handleUploadClose}},[e._v("x")])]):e._e()],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"è°ƒä¼˜ç®—æ³•",prop:"tp_tuner"}},[a("el-select",{attrs:{clearable:"",placeholder:"è¯·é€‰æ‹©è¶…å‚æ•°è°ƒä¼˜ç®—æ³•"},model:{value:e.form.tp_tuner,callback:function(t){e.$set(e.form,"tp_tuner",t)},expression:"form.tp_tuner"}},e._l(e.tp_tunerList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"æœ€å¤§è¯•éªŒæ¬¡æ•°",prop:"tp_max_trials"}},[a("el-input",{model:{value:e.form.tp_max_trials,callback:function(t){e.$set(e.form,"tp_max_trials",t)},expression:"form.tp_max_trials"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"è®­ç»ƒå‚æ•°",prop:"training_params"}},[a("el-collapse",{attrs:{accordion:""},on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"å±•å¼€æŸ¥çœ‹",name:"1"}},[a("json-editor",{attrs:{mode:"code"},model:{value:e.form.training_params,callback:function(t){e.$set(e.form,"training_params",t)},expression:"form.training_params"}})],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"æç¤º",visible:e.dialogVisible,width:"50%","before-close":e.handleClose,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"åŸºç¡€æ¨¡å‹",prop:"model_foundation"}},[a("el-input",{model:{value:e.form.model_foundation,callback:function(t){e.$set(e.form,"model_foundation",t)},expression:"form.model_foundation"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"æ¨èåŸå› ",prop:"recommend"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.form.recommend,callback:function(t){e.$set(e.form,"recommend",t)},expression:"form.recommend"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"è®­ç»ƒå‚æ•°",prop:"training_params"}},[a("json-editor",{attrs:{mode:"code"},model:{value:e.form.training_params,callback:function(t){e.$set(e.form,"training_params",t)},expression:"form.training_params"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("å– æ¶ˆ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.recommend}},[e._v("ç¡® å®š")])],1)],1)],1)],1)}),l=[],s=(a("caad"),a("c114")),r={data:function(){return{loading:!1,dialogVisible:!1,formLabelWidth:"120px",uploadNum:null,uploadParameters:null,tagShutDown:!1,tag:null,form:{experiment_name:"",task_type:"",task_desc:"",model_type:"",model_foundation:void 0,recommend:"",files:void 0,tp_tuner:"",tp_max_trials:"",training_params:{}},activeNames:0,rules:{experiment_name:[{required:!0,message:"è¯·è¾“å…¥å®éªŒåç§°",trigger:"blur"},{pattern:/^(?!\s+).*(?<!\s)$/,message:"é¦–å°¾ä¸èƒ½ä¸ºç©ºæ ¼",trigger:"blur"},{pattern:/^[a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?$/,message:"åªèƒ½è¾“å…¥61ä½å°å†™è‹±æ–‡æˆ–æ•°å­—",trigger:"blur"}],task_type:[{required:!0,message:"è¯·é€‰æ‹©ä»»åŠ¡ç±»å‹",trigger:"change"}],task_desc:[{required:!0,message:"è¯·è¾“å…¥ä»»åŠ¡æè¿°",trigger:"blur"}],model_type:[{required:!0,message:"è¯·è¾“å…¥åŸºç¡€æ¨¡å‹",trigger:"blur"}],files:[{required:!1,message:"è¯·ä¸Šä¼ è®­ç»ƒæ•°æ®",trigger:"change"}],tp_tuner:[{required:!0,message:"è¯·é€‰æ‹©è°ƒä¼˜ç®—æ³•",trigger:"change"}],tp_max_trials:[{required:!0,message:"è¯·è¾“å…¥æœ€å¤§è¯•éªŒæ¬¡æ•°",trigger:"blur"}],training_params:[{required:!0,message:"è¯·è¾“å…¥è®­ç»ƒå‚æ•°",trigger:"blur"}],model_foundation:[{required:!0,message:"è¯·è¾“å…¥åŸºç¡€æ¨¡å‹",trigger:"blur"}]},taskList:[{value:1,label:"structured-data-classification"},{value:2,label:"structured-data-regression"},{value:3,label:"image-classification"},{value:4,label:"image-regression"}],tp_tunerList:[{value:1,label:"greedy"},{value:2,label:"bayesian"},{value:3,label:"hyperband"},{value:4,label:"random"}]}},created:function(){},mounted:function(){},methods:{upload:function(){[1,2].includes(this.form.task_type)?(console.log("ä¸Šä¼ å•æ–‡ä»¶"),document.getElementById("upload-file").click()):[3,4].includes(this.form.task_type)?(console.log("ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶å¤¹"),document.getElementById("upload-folder").click()):this.$message({type:"warning",message:"è¯·å…ˆé€‰æ‹©ä»»åŠ¡ç±»å‹"})},onFileChanged:function(e){console.log("ğŸš€ ~ onFileChanged ~ e:",e.target,e.target.files),this.uploadNum=e.target.files.length,this.uploadParameters=!0},onFolderChanged:function(e){console.log("ğŸš€ ~ onFolderChanged ~ e:",e.target.files),this.uploadNum=e.target.files.length,this.uploadParameters=!1},handleUploadClose:function(){this.uploadNum=null},changeModelType:function(e,t){console.log("ğŸš€ ~ changeModelType ~ file, fileList:",e,t)},suggest:function(){var e=this;if(!this.form.task_type||!this.form.task_desc)return this.$message({message:"è¯·å…ˆé€‰æ‹©ä»»åŠ¡ç±»å‹å’Œå¡«å†™ä»»åŠ¡æè¿°",type:"warning",duration:1500}),!1;this.loading=this.$loading({lock:!0,text:"æ•°æ®åŠ è½½ä¸­...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});var t={task_type:this.taskList[this.form.task_type-1].label,task_desc:this.form.task_desc,model_nums:1};Object(s["a"])(t).then((function(t){console.log(t,"æ¨èæ•°æ®"),e.form.model_foundation=t.candidate_models[0].model_type,e.form.recommend=t.candidate_models[0].reason,e.form.training_params=t.candidate_models[0].training_params,e.dialogVisible=!0})).finally((function(){e.loading.close()}))},recommend:function(){var e=this;this.$refs.form.validateField("model_foundation",(function(t){t||(e.form.model_type=e.form.model_foundation,e.dialogVisible=!1)}))},handleClose:function(e){var t=this;this.$confirm("ç¡®å®šå–æ¶ˆå—ï¼Ÿ").then((function(e){t.dialogVisible=!1})).catch((function(e){}))},handleChange:function(e){console.log(e)}}},c=r,m=(a("7f3e"),a("2877")),u=Object(m["a"])(c,i,l,!1,null,null,null),p=u.exports,d=(a("2f62"),{components:{ExperimentForm:p},data:function(){return{dialogFormVisible:!1,tasks:[],taskList:[{value:1,label:"structured-data-classification"},{value:2,label:"structured-data-regression"},{value:3,label:"image-classification"},{value:4,label:"image-regression"}],algorithmList:[{value:1,label:"greedy"},{value:2,label:"bayesian"},{value:3,label:"hyperband"},{value:4,label:"random"}]}},created:function(){this.init()},computed:{},methods:{init:function(){this.getExperimentList()},getExperimentList:function(){var e=this;Object(s["c"])().then((function(t){e.tasks=t.experiment_cards,console.log(t,"å®éªŒåˆ—è¡¨")}))},openDialog:function(){this.dialogFormVisible=!0},info:function(e){this.$router.push({path:"/experiment/detail",query:{experiment_name:e.experiment_name,task_type:e.task_type}})},del:function(e){var t=this;console.log(e,"åˆ é™¤å®éªŒ"),this.$confirm("æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤è¯¥æ–‡ä»¶, æ˜¯å¦ç»§ç»­?","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}).then((function(){console.log(e.experiment_name,"åˆ é™¤å®éªŒ1"),Object(s["e"])(e.experiment_name).then((function(e){t.$message({type:"success",message:"åˆ é™¤æˆåŠŸ!"}),t.getExperimentList()}))})).catch((function(){console.log("å·²å–æ¶ˆåˆ é™¤"),t.$message({type:"info",message:"å·²å–æ¶ˆåˆ é™¤"})}))},openExperiment:function(){var e=this;this.$refs.experimentForm.$refs.form.validate((function(t){if(!t)return!1;var a=JSON.parse(JSON.stringify(e.$refs.experimentForm.form));delete a.recommend,delete a.model_foundation,a.training_params=JSON.stringify(a.training_params),a.task_type=e.taskList[a.task_type-1].label,a.tp_tuner=e.algorithmList[a.tp_tuner-1].label;var n=a,o=new FormData;for(var i in n)o.append(i,n[i]);var l=e.$refs.experimentForm.uploadParameters?document.getElementById("upload-file"):document.getElementById("upload-folder");l.files.forEach((function(e){o.append("files",e)})),console.log("ğŸš€ ~ this.$refs.experimentForm.$refs.form.validate ~ params:",n),console.log("ğŸš€ ~ this.$refs.experimentForm.$refs.form.validate ~ p:",o),Object(s["d"])(o).then((function(t){console.log(t,"æ¨èæ•°æ®"),e.dialogFormVisible=!1,e.getExperimentList()})).finally((function(){console.log(6666)})),console.log(e.$refs.experimentForm.form,"åˆ›å»ºå®éªŒå‚æ•°")}))}}}),f=d,g=(a("8271"),Object(m["a"])(f,n,o,!1,null,null,null));t["default"]=g.exports},b26d:function(e,t,a){},b84e:function(e,t,a){},c114:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return f})),a.d(t,"a",(function(){return g})),a.d(t,"g",(function(){return _})),a.d(t,"f",(function(){return b})),a.d(t,"e",(function(){return v})),a.d(t,"b",(function(){return h}));a("d3b7");var n=a("bc3a"),o=a.n(n),i=a("5c96"),l=a("a18c"),s=o.a.create({headers:{"Cache-Control":"no-cache"}}),r="/proxy";function c(e,t){return new Promise((function(a,n){s.get(r+e,{params:t}).then((function(e){a(e)})).catch((function(e){n(e)}))}))}function m(e,t){return new Promise((function(a,n){s.get(r+e+"/"+t).then((function(e){a(e)})).catch((function(e){n(e)}))}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){s.post(r+e,t).then((function(e){a(e)})).catch((function(e){n(e)}))}))}function p(e,t){return new Promise((function(a,n){s.delete(r+e+"/"+t).then((function(e){a(e)})).catch((function(e){n(e)}))}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u("/api/v1/experiment",e)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c("/api/v1/experiment/cards",e)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u("/api/v1/selection/candidate-models",e)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return m("/api/v1/experiment/overview",e)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c("/api/v1/repository/model",e)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return p("/api/v1/experiment",e)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u("/api/v1/experiment/evaluate",e)}s.interceptors.response.use((function(e){return e.data}),(function(e){return e.message.indexOf("401")>-1&&l["a"].push("/"),"è¯·æ±‚å–æ¶ˆ"!==e.message?(Object(i["Message"])({message:e.message,type:"error"}),Promise.reject(e)):"è¯·æ±‚å–æ¶ˆ"==e.message?Promise.reject(e):void 0}))}}]);